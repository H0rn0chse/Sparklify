var o="M26.5 25.5C19.0043 33.3697 0 34 0 34C0 34 19.1013 35.3684 26.5 43.5C33.234 50.901 34 68 34 68C34 68 36.9884 50.7065 44.5 43.5C51.6431 36.647 68 34 68 34C68 34 51.6947 32.0939 44.5 25.5C36.5605 18.2235 34 0 34 0C34 0 33.6591 17.9837 26.5 25.5Z",n=class{#t=document.createElement("div");size;color;constructor(t,i){this.size=t,this.color=i,this.#i()}#i(){this.#t.classList.add("sparkleWrapper"),this.#t.style.width=this.size;let t=document.createElement("div");t.classList.add("outerSparkle"),t.style.width=this.size;let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("viewBox","0 0 68 68"),i.innerHTML=`<path d="${o}" fill="${this.color}"/>`,i.classList.add("innerSparkle"),i.style.width=this.size,t.appendChild(i),this.#t.appendChild(t)}getDomRef(){return this.#t}destroy(){this.#t.remove()}};var r=class{target;size;colors;animationLength;initialDelay;pauseMin;pauseMax;animationLengthMin;animationLengthMax;isRunning=!1;animationController=new AbortController;constructor(t){this.target=t.target,this.size=t.size??"20px",this.colors=t.colors??["yellow","white","gold","orange"],this.animationLength=t.animationLength??700,this.initialDelay=t.initialDelay??0,this.pauseMin=t.pauseMin??100,this.pauseMax=t.pauseMax??500,this.animationLengthMin=this.animationLength,this.animationLengthMax=this.animationLength*1.6}wait(t){return new Promise(i=>setTimeout(i,t))}async runSparkle(t){let i=this.colors[Math.floor(Math.random()*this.colors.length)],a=new n(this.size,i),e=a.getDomRef();e.style.top=Math.random()*100+"%",e.style.left=Math.random()*100+"%",e.style.setProperty("--animation-length",`${t}ms`),Math.random()<.3?e.style.zIndex="-1":e.style.zIndex="2",this.animationController.signal.addEventListener("abort",()=>{a.destroy()}),this.target.insertAdjacentElement("afterbegin",e),await this.wait(t),a.destroy()}async animate(){for(await this.wait(this.initialDelay);this.isRunning;){let t=Math.random()*(this.animationLengthMax-this.animationLengthMin)+this.animationLengthMin;if(await this.runSparkle(t),!this.isRunning)break;let i=Math.random()*(this.pauseMax-this.pauseMin)+this.pauseMin;await this.wait(i)}}start(){this.isRunning||(this.isRunning=!0,this.animationController.signal.addEventListener("abort",()=>{this.isRunning=!1}),this.animate())}stop(){this.animationController.abort(),this.animationController=new AbortController}};export{n as Sparkle,r as SparkleAnimation};
//# sourceMappingURL=sparklify.min.js.map
